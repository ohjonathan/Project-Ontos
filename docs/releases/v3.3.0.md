---
id: v330
type: log
status: active
ontos_schema: 2.2
event_type: release
concepts: [v3.3, unified-loader, link-check, rename, command-safety, cli-surface]
---

# v3.3.0 ‚Äî "Full Spectrum Hardening"

**Release date:** 2026-02-11

v3.3 is the largest release since v3.0, shipping **62 audit-derived hardening fixes** plus **3 new commands** across two parallel tracks (Track A: hardening, Track B: features). Every finding from the triple-auditor review cycle (UX, Correctness, Architecture) has been resolved.

---

## ‚ú® Highlights

- **`ontos link-check`** ‚Äî Scan the knowledge graph for broken references, duplicate IDs, and orphaned documents with JSON output and exit codes `0/1/2`.
- **`ontos rename <old_id> <new_id>`** ‚Äî Safely rename document IDs with dry-run default, `--apply` mode, collision detection, and automatic frontmatter propagation across all dependents.
- **Unified scan scope** ‚Äî All scanning commands now share `--scope docs|library` for consistent document discovery.
- **Canonical unified document loader** ‚Äî Single parsing path for all commands eliminates inconsistencies in frontmatter handling.
- **Full CLI surface normalization** ‚Äî Unified JSON envelopes, typed error routing, consistent return contracts across every command.

---

## üèóÔ∏è Track A ‚Äî Hardening (62 findings)

### Track A1: Core Contracts & Graph Integrity (PR [#67](https://github.com/ohjonathan/Project-Ontos/pull/67))

Foundation-level changes that all subsequent tracks depend on.

- Implemented **canonical unified document loader** ‚Äî single `load_document()` path used by every command
- Migrated all commands (`map`, `doctor`, `query`, `consolidate`, `maintain`, `log`, `verify`) to the unified loader
- Closed parser/loader contract ambiguity: consistent frontmatter normalization, duplicate detection, and input validation
- Added 11 hardening items: runtime-root proposal paths, fallback warnings, history write contract restoration, consolidate path resolution fix, and regression tests

### Track A2: Command Safety & State Integrity (PR [#71](https://github.com/ohjonathan/Project-Ontos/pull/71))

Transactional safety and strict input semantics across state-mutating commands.

- Hardened `consolidate`, `doctor`, `paths`, `migrate`, proposal/history parsing, and config parsing
- Fixed root/path correctness for runtime resolution
- Added strict input handling and transactional semantics for state mutations
- Closed review non-blocking test gaps

### Track A3: CLI Surface, Output Contracts & Command Taxonomy (merged directly)

Normalization of the entire CLI surface.

- **Unified JSON envelopes** ‚Äî All commands emit `{ "status": "ok"|"error", "data": ... }` or `{ "status": "error", "error": { "code": ..., "message": ... } }`
- **Consolidated instruction exports** ‚Äî Single public export path for agent instruction generation
- **Normalized return contracts** ‚Äî Every command returns typed results, not raw dicts
- **CLI typed error routing** ‚Äî Consistent error handling and exit codes

### Track A4: Docs, Tests & Dead Code Cleanup (PRs [#74](https://github.com/ohjonathan/Project-Ontos/pull/74), [#75](https://github.com/ohjonathan/Project-Ontos/pull/75))

Final polish pass.

- Fixed documentation drift in `Ontos_Manual.md`
- Removed dead code from findings #54, #57, #59
- Added test coverage for graph primitives, schema validation, and `log` command
- Resolved 3 deferred non-blocking items from Track A3 review (NB-1, NB-2, NB-3)

---

## üöÄ Track B ‚Äî Features (PRs [#68](https://github.com/ohjonathan/Project-Ontos/pull/68), [#69](https://github.com/ohjonathan/Project-Ontos/pull/69), [#70](https://github.com/ohjonathan/Project-Ontos/pull/70))

### Unified Scan Scope (PR #68)
- `--scope docs|library` wired across all scanning commands
- Consistent document discovery replaces per-command scan logic

### `ontos link-check` (PR #69)
- Shared markdown body-link parser with zone-aware tokenization
- Reports broken references, duplicate IDs, and orphaned documents
- JSON output mode with structured diagnostics
- Exit code semantics: `0` clean, `1` warnings, `2` errors

### `ontos rename` (PR #70)
- Dry-run by default, `--apply` to execute
- Collision detection prevents overwriting existing IDs
- Targeted frontmatter update across all `depends_on` references
- Post-rename regeneration warning for `ontos map` and `ontos agents`

---

## üìä By the Numbers

| Metric | Value |
|--------|-------|
| Commits since v3.2.3 | 36 |
| Audit findings resolved | 62 |
| New commands | 3 (`link-check`, `rename`, unified scan scope) |
| PRs merged | 9 (#67‚Äì#75) |
| Tracks | 6 (A1, A2, A3, A4a, A4b, B) |

---

## Full Changelog

https://github.com/ohjonathan/Project-Ontos/compare/v3.2.3...v3.3.0
