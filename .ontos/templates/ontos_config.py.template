"""Ontos Configuration.

Generated by ontos_init.py. Edit this file to customize behavior.
Run `python3 ontos_init.py --reconfig` to reconfigure via prompts.
"""

# =============================================================================
# QUICK SETUP: Choose your mode
# =============================================================================
# "automated" - Zero friction, archives on push, auto-consolidates
# "prompted"  - Blocked until archived, you control details (DEFAULT)
# "advisory"  - Reminders only, maximum flexibility
#
# This sets sensible defaults. Override individual settings below if needed.

ONTOS_MODE = "{{MODE}}"

# Your name for log attribution (can override with ONTOS_SOURCE env var)
DEFAULT_SOURCE = {{SOURCE_QUOTED}}  # e.g., "Claude Code" or None

# =============================================================================
# ADVANCED: Individual settings (override mode defaults)
# =============================================================================
# Uncomment to customize. These override ONTOS_MODE defaults.

# --- Archiving Behavior ---
# AUTO_ARCHIVE_ON_PUSH = True        # Auto-create log on push
# ENFORCE_ARCHIVE_BEFORE_PUSH = True # Block push until archived
# REQUIRE_SOURCE_IN_LOGS = True      # Require --source flag

# --- Consolidation ---
# AUTO_CONSOLIDATE = True            # Auto-archive old logs in Maintain
# CONSOLIDATION_THRESHOLD_DAYS = 30  # Age threshold for consolidation

# --- Validation ---
# SMALL_CHANGE_THRESHOLD = 20        # Lines below this = "small change"
# LOG_RETENTION_COUNT = 15           # Warn when logs exceed this

# =============================================================================
# DO NOT EDIT BELOW - Required by Ontos
# =============================================================================
# Note: This file re-exports everything from .ontos/scripts/ontos_config.py
# We use importlib to avoid circular import issues since both files have the
# same module name. This approach loads the scripts version under a different name.
import sys as _sys
import os as _os
import importlib.util as _importlib_util

_scripts_dir = _os.path.join(_os.path.dirname(_os.path.abspath(__file__)), '.ontos', 'scripts')
_scripts_config_path = _os.path.join(_scripts_dir, 'ontos_config.py')

# Add scripts directory to path so ontos_config_defaults can be found
if _scripts_dir not in _sys.path:
    _sys.path.insert(0, _scripts_dir)

_spec = _importlib_util.spec_from_file_location("_ontos_scripts_config", _scripts_config_path)
_scripts_config = _importlib_util.module_from_spec(_spec)
_spec.loader.exec_module(_scripts_config)

# Copy all public attributes to this module
for _name in dir(_scripts_config):
    # Include public names and __version__ (which starts with underscore but is a standard public attr)
    if not _name.startswith('_') or _name == '__version__':
        globals()[_name] = getattr(_scripts_config, _name)

# Clean up internal names
del _importlib_util, _scripts_config_path, _spec, _scripts_config, _name

# Override the DOCS_DIR and LOGS_DIR if needed
# DOCS_DIR = 'docs'
# LOGS_DIR = 'docs/logs'
