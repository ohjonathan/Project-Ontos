---
id: log_20251219_v2_7
type: log
status: active
event_type: feature
concepts: [describes, staleness, immutable-history, implementation-plan, llm-review]
impacts: [v2_7_documentation_ontology, master_plan_v4, schema]
---

# Session Log: v2.7 Implementation Plan

Date: 2025-12-19 19:12 KST
Source: Claude Code (Opus 4.5)
Event Type: feature

## 1. Goal

Create a comprehensive, LLM-reviewed implementation plan for v2.7 that could be executed by any agent with full context.

## 2. Key Decisions

- **Atom-only type constraints:** Both `describes` source and target must be atoms (unanimous)
- **Git-based modification detection:** Use `git log` with mtime fallback for staleness
- **No pre-push staleness:** Removed to prevent warning fatigue (context map + Archive Ontos only)
- **Manual + command verification:** Primary is manual edit, `ontos_verify.py` as convenience
- **Immutable history:** Regenerate `decision_history.md` on context map generation
- **`--skip-history` flag:** Allow skipping history regeneration for quick validation

## 3. Changes Made

- Created `v2.7_implementation_plan.md` (v1.0.0 â†’ v1.1.0)
- Created `v2.7_implementation_synthesis.md` (consolidated review decisions)
- Added reviews from Codex, Gemini, Claude

### Files Added
- `.ontos-internal/strategy/proposals/v2.7/v2.7_implementation_plan.md`
- `.ontos-internal/strategy/proposals/v2.7/v2.7_implementation_synthesis.md`
- `.ontos-internal/strategy/proposals/v2.7/v2.7_implementation_plan_review_codex.md`
- `.ontos-internal/strategy/proposals/v2.7/v2.7_implementation_plan_review_gemini.md`
- `.ontos-internal/strategy/proposals/v2.7/Claude_v2.7_Implementation_Review.md`

## 4. Alternatives Considered

- **Pre-push staleness check:** Rejected due to warning fatigue concern (Claude)
- **mtime for modification detection:** Rejected because git resets timestamps
- **Frontmatter `last_modified` field:** Rejected to avoid field proliferation

## 5. Next Steps

- Phase 1: Implement `describes` field parsing and validation in `ontos_lib.py`
- Phase 2: Add staleness detection to `ontos_generate_context_map.py`
- Phase 3: Create `ontos_verify.py` helper
- Phase 4: Implement immutable history generation
- Phase 5: Update documentation and self-host

---
## Raw Session History
```text
Commit 96e6d21: docs: add v2.7 implementation plan with LLM review board approval
- 6 files changed, 2037 insertions
```
