---
id: v2_9_implementation_plan_review_codex_v3
type: atom
status: draft
depends_on: [v2_9_implementation_plan]
concepts: [architecture, security, schema, adoption, release]
---

# Review: v2.9 Implementation Plan (Codex) — v3

**Reviewer:** Codex (GPT-5)
**Date:** 2025-12-22
**Scope:** Review of `v2.9_implementation_plan.md` v1.2.0
**Goal:** Provide thorough and honest feedback for Chief Architect updates.

---

## 1) Executive Summary — Key Findings

1. **Installer reproducibility is still inconsistent.** Examples are tag-pinned, but the installer snippet still fetches `checksums.json` from `main`, which breaks reproducibility.
2. **Checksum trust model is explicit but still under-mitigated.** Risk analysis treats install security as low likelihood despite acknowledged limitations.
3. **Expected file list is static while `--version` allows older installs.** Verification can fail for older versions without a versioned manifest.
4. **“latest” behavior is claimed but not shown.** `--latest` is referenced, but CLI parsing in the snippet doesn’t include it.
5. **Upgrade safety remains underspecified.** Sentinel is useful, but config preservation and rollback rules are not defined.

---

## 2) Detailed Feedback & Improvements

### 2.1 Installer Reproducibility

**Issue:** `checksums.json` is still fetched from `main` while the installer and bundle are tag-pinned.

**Recommendations:**
- Fetch checksums from the same tag (`.../raw/v2.9.0/checksums.json`) or from the release assets.
- Ensure the installer, checksums, and bundle are all version-aligned.

---

### 2.2 Integrity Scope & Risk Analysis

**Issue:** The plan now documents limitations but doesn’t reflect them in risk posture.

**Recommendations:**
- Elevate likelihood in risk analysis or add a mitigation note (e.g., tag-pinned checksums, release-asset checksums).
- State explicitly: current model protects only against in-transit tampering, not repo compromise.

---

### 2.3 Verification Strategy for `--version`

**Issue:** `EXPECTED_FILES` includes v2.9 paths and will break older installs.

**Recommendations:**
- Add a versioned manifest inside the bundle and validate against it.
- Or maintain version-specific expected file lists keyed by version.

---

### 2.4 “Latest” Option Consistency

**Issue:** `--latest` is described but not implemented in the shown CLI parsing.

**Recommendations:**
- Ensure the plan includes the actual parsing flow or remove the flag from the plan.
- Document API failure handling and rate limits.

---

### 2.5 Upgrade Safety

**Issue:** Sentinel marks incomplete install, but rollback and config preservation are not defined.

**Recommendations:**
- Define backup rules for `.ontos/` and `ontos.py` prior to upgrade.
- Explicitly state how `ontos_config.py` is preserved or merged.
- Define how re-run behaves if `.install_incomplete` exists.

---

## 3) Missing Possibilities / Unaddressed Risks

- **Checksum hosting for older versions:** `checksums.json` in `main` can break old releases.
- **Windows instructions:** tag-pinned URLs are good, but PowerShell instructions are still missing.
- **Legacy schema inference:** needs a clear boundary (only for docs without `ontos_schema`).
- **CI release gating:** no explicit gate if checksums or bundle metadata are missing.

---

## 4) Concise Plan Changes Recommended

1. **Checksums:** fetch from release/tag, not `main`.
2. **Verification:** add bundle manifest or versioned expected file lists.
3. **Upgrade:** define rollback + config preservation; handle `.install_incomplete`.
4. **Latest:** implement or remove `--latest` from plan.
5. **Docs:** add Windows/PowerShell install path.

---

## 5) Closing Assessment

v1.2.0 resolves most prior feedback, but release integrity is still inconsistent due to `main`-based checksums and static verification logic. Fixing those will reduce adoption risk and improve reproducibility, which is critical for a bootstrap installer.

