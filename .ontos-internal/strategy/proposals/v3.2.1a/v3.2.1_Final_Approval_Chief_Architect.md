---
id: v3_2_1_final_approval_chief_architect
type: atom
status: complete
depends_on: [v3_2_1_external_review_remediation]
concepts: [approval, chief-architect, pr-61, v3.2.1]
---

# v3.2.1 Final Approval — Chief Architect

**Date:** 2026-02-06
**PR:** #61 (`v3.2.1-external-review-remediation`)
**Decision:** APPROVED FOR MERGE

---

## Prerequisite Verification

### Codex Verification: INVALID

All 5 Codex findings are false positives. Independent verification of the current branch (`5fd3300`) confirms every item is resolved:

| Finding | Codex Claim | Actual State | Verdict |
|---------|-------------|--------------|---------|
| X-H1 | `resolve_config()` returns None | Full legacy import chain with `FutureWarning` deprecation (`paths.py:35-65`) | False positive |
| X-M1 | `ONTOS_VERSION` import broken | `proposals.py:13-16` uses `from ontos import __version__` with try/except fallback | False positive |
| X-M2 | Key Documents shows top 5 | `map.py:213` has `[:3]` | False positive |
| X-M3 | `pending_curation` coerced to draft | `types.py:45` has `PENDING_CURATION = "pending_curation"` in enum | False positive |
| X-L1 | Deprecated commands visible in help | `cli.py:202,263,465,479` all have `help=argparse.SUPPRESS` | False positive |

**Root cause:** Codex likely tested against the pre-PR main branch or made incorrect assertions about expected behavior. The verification methodology was sound in concept but the test harness did not check the actual PR branch.

### Consolidation Blocking Issues: All 5 Resolved

| Issue | Severity | Status | Resolution |
|-------|----------|--------|------------|
| B1 | Critical | **RESOLVED** | Dead template files deleted in `5fd3300`. `ontos init` uses `.ontos.toml` directly; the template had zero callers in the codebase. |
| B2 | High | RESOLVED | `PROJECT_ROOT` uses file-based derivation (`3x dirname` from `ontos/core/paths.py`), not install path. |
| B3 | High | RESOLVED | `resolve_config()` preserves full backward compatibility with `FutureWarning` deprecation warnings (`paths.py:72-96`). This deviates from the plan (which called for stripping to `return default`) but is strictly better — legacy configs continue working while users are warned to migrate. |
| B4 | Medium | RESOLVED | `from ontos import __version__ as ONTOS_VERSION` with try/except fallback (`proposals.py:13-16`). |
| B5 | Medium | RESOLVED | Key Documents shows top 3 (`[:3]`), includes cold-start fallback for projects without `depends_on` wiring. |

### Tests

- 546 passed, 2 skipped
- 18 pre-existing subprocess failures (`python3 -m ontos` fails on system Python without ontos installed) — unrelated to PR

### Reviewer Disagreements

None unresolved. All three reviewers' concerns have been addressed:
- **Gemini (Peer):** Approved
- **Claude (Alignment):** 2 blocking issues (B1, B3) — both resolved
- **Codex (Adversarial):** 5 findings — all invalidated as false positives

---

## Plan Deviations

Two intentional deviations from the v3.2.1 implementation plan:

1. **`resolve_config()` (Step 5):** Plan called for stripping to `return default`. Implementation preserves full legacy import chain with deprecation warnings. This is a better outcome — maintains backward compatibility during transition to `.ontos.toml`.

2. **`PENDING_CURATION` status:** Added to `DocumentStatus` enum alongside `SCAFFOLD` and `IN_PROGRESS`. Not in the original plan but identified during review as a pre-existing gap.

---

## Merge Instructions

**Method:** Squash and merge

**Commit message:**
```
fix: v3.2.1 — External Review Remediation (#61)

9-item remediation from external code review of v3.2.0:
- Add SCAFFOLD, PENDING_CURATION, IN_PROGRESS to DocumentStatus enum
- Replace hardcoded Critical Paths with dynamic Key Documents
- Fix version constants and GitHub URL typos
- Delete ontos/_scripts/ (4,803 lines dead code) + migrate imports
- Fix scan_documents scope (docs_dir only + expanded skip_patterns)
- Remove MCP placeholder module
- Fix TOML serialization of None values
- Hide deprecated/internal commands from --help
- Remove dead ontos_config.py.template (B1 fix)

Net: ~4,900 lines removed.

Reviewed-by: Gemini (Peer), Claude (Alignment), Codex (Adversarial)
Verified-by: Chief Architect (Codex findings invalidated)
Approved-by: Chief Architect
```

---

## Post-Merge Checklist

- [ ] Tag release v3.2.1
- [ ] Update changelog
- [ ] Cut GitHub release with notes
- [ ] Verify `pip install ontos==3.2.1` works from PyPI (if published)
