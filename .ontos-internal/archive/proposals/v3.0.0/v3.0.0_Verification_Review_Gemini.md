# v3.0.0 Verification Review: Peer Reviewer

**Your Role:** Peer Reviewer (Verification)  
**Model:** Gemini 3.0 Pro  
**Focus:** Template quality, LLM usability, completeness of fixes

---

## Scope

You are verifying ONLY these changes from the CA Response:

1. **AGENTS.md template** (Appendix A) — Is it complete? Will LLMs understand it?
2. **.cursorrules transform rules** (Appendix B) — Are they clear and correct?
3. **PyPI verification step** — Is the TestPyPI install check adequate?
4. **Minor fixes** (m1-m5, m7) — Are dispositions reasonable?

**Out of scope:** Everything else. Don't re-review the entire spec.

---

## Input Documents

- `v3.0.0_Chief_Architect_Response.md` — The CA's response (primary input)
- `v3.0.0_Spec_Review_Consolidation.md` — What was requested
- Your original review `v3.0.0_Spec_Review_Gemini.md` — Your original findings

---

## Verification Checklist

### AGENTS.md Template (Appendix A)

| Check | Pass? | Notes |
|-------|-------|-------|
| Has project declaration | ✅ | "This project uses Ontos..." |
| Has activation protocol (numbered steps) | ✅ | Steps 1-5 clearly defined. |
| Has session end protocol | ✅ | Explicit "Session End" section. |
| Has Quick Reference with 5 commands | ✅ | Table format, top 5 commands included. |
| Has project stats with placeholders | ✅ | `{doc_count}` and `{last_updated}`. |
| Has Core Invariants section (your suggestion) | ✅ | Explicitly includes "Do not edit" rules. |
| Has staleness warning | ✅ | Warns if AGENTS.md is older than sources. |
| Has version stamp (M6 fix) | ✅ | `Generated by Ontos v{ontos_version}...` |
| **LLM Usability:** Would YOU understand how to work with this project? | ✅ | Yes, the context map instructions are clear. |
| **LLM Usability:** Would YOU remember to run `ontos log`? | ✅ | Yes, it is listed as a distinct Protocol step. |

**Template Assessment:** **Adequate**

**If Needs Revision, specify what's missing or wrong:** N/A

---

### .cursorrules Transform Rules (Appendix B)

| Check | Pass? | Notes |
|-------|-------|-------|
| Every AGENTS.md section has a defined treatment | ✅ | Mapped or removed explicitly. |
| Transform rules are unambiguous | ✅ | "Rename to...", "Prepend...", "Remove". |
| Output filename specified (`.cursorrules`) | ✅ | Explicitly stated "always .cursorrules". |
| No v2.x script paths | ✅ | Rule: "Ensure all commands use v3.0 CLI". |
| Implementer could execute these rules without asking questions | ✅ | Logic is straightforward. |

**Transform Rules Assessment:** **Adequate**

**If Needs Revision, specify what's missing or wrong:** N/A

---

### PyPI Verification Step

| Check | Pass? | Notes |
|-------|-------|-------|
| TestPyPI install step specified | ✅ | `pip install ... --no-deps ontos` |
| Version check included (`ontos --version`) | ✅ | Explicitly included. |
| Workflow gated on tests (M5) | ✅ | "Gate publish on tests". |
| Addresses your P-M1 concern | ✅ | Addresses the "missing verification" issue. |

**PyPI Fix Assessment:** **Adequate**

---

### Your Original Concerns

| Your Issue | CA Response | Adequately Addressed? |
|------------|-------------|----------------------|
| P-M1: Missing PyPI verification | Added TestPyPI install + version check | ✅ |
| P-M2: Staleness misses package updates | Deferred to v3.0.3 | ✅ (Acceptable trade-off for v3.0) |
| P-m1: Cursorrules filename ambiguity | Explicitly set to `.cursorrules` | ✅ |
| P-m2: Output directory creation | Create parent directories | ✅ |
| Template needs Invariants | Added Core Invariants section | ✅ |

---

### New Issues Introduced?

| New Issue | Severity | Notes |
|-----------|----------|-------|
| None | N/A | Changes are focused and address specific feedback. |

---

## Verdict

**Verification Status:** **PASS**

**If FAIL, blocking issues:** N/A

**If PASS with notes:**
- The inclusion of the "Core Invariants" section in the template significantly improves safety for LLM interactions.
- The TestPyPI verification step effectively mitigates the risk of publishing broken wheels.

---
